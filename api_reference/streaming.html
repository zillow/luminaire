<!DOCTYPE html> <html lang=en  data-content_root="../"> <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /><meta name=viewport  content="width=device-width, initial-scale=1" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&family=Nunito+Sans:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel=stylesheet > <link rel=stylesheet  href="../_static/stylesheets/application.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="../_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="../_static/fonts/material-icons.css"/> <meta name=theme-color  content="#3f51b5"> <script src="../_static/javascripts/modernizr.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119269936-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-119269936-5'); </script> <title>Luminaire Streaming Anomaly Detection Models: Window Density Model &#8212; Luminaire</title> <link rel=stylesheet  href="../_static/global.css"> <link rel=stylesheet  href="../_static/colors.css"> <link rel=stylesheet  type="text/css" href="../_static/pygments.css?v=649a27d8" /> <link rel=stylesheet  type="text/css" href="../_static/material.css?v=79c92029" /> <script src="../_static/documentation_options.js?v=01f34227"></script> <script src="../_static/doctools.js?v=888ff710"></script> <script src="../_static/sphinx_highlight.js?v=dc90522c"></script> <link rel=index  title=Index  href="../genindex.html" /> <link rel=search  title=Search  href="../search.html" /> <link rel=prev  title="Luminaire Configuration Optimization" href=optimization.html  /> <body dir=ltr data-md-color-primary=custom data-md-color-accent=custom> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#api_reference/streaming" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href="../index.html" title=Luminaire  class="md-header-nav__button md-logo"> &nbsp; </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >Luminaire</span> <span class=md-header-nav__topic > Luminaire Streaming Anomaly Detection Models: Window Density Model </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action="../search.html" method=get  name=search > <input type=text  class=md-search__input  name=q  placeholder=""Search"" autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source > <a href="https://github.com/zillow/luminaire/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > Fork me on Github </div> </a> </div> </div> <script src="../_static/javascripts/version_dropdown.js"></script> <script> var json_loc = "../"versions.json"", target_loc = "../../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> </div> </nav> </header> <div class=md-container > <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href="../index.html" title=Luminaire  class="md-nav__button md-logo"> <img src="../_static/" alt=" logo" width=48  height=48 > </a> <a href="../index.html" title=Luminaire >Luminaire</a> </label> <div class=md-nav__source > <a href="https://github.com/zillow/luminaire/" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > Fork me on Github </div> </a> </div> <ul class=md-nav__list > <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Tutorial</span></span> <li class=md-nav__item > <a href="../tutorial/dataprofiling.html" class=md-nav__link >Data Profiling</a> <li class=md-nav__item > <a href="../tutorial/optimization.html" class=md-nav__link >Configuration Optimization</a> <li class=md-nav__item > <a href="../tutorial/outlier_batch.html" class=md-nav__link >Outlier Detection</a> <li class=md-nav__item > <a href="../tutorial/streaming.html" class=md-nav__link >Anomaly Detection for Streaming data</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >API Reference</span></span> <li class=md-nav__item > <a href=batch_models.html  class=md-nav__link >Luminaire Outlier Detection Models: Structural Modeling</a> <li class=md-nav__item > <a href="batch_models.html#module-luminaire.model.model_utils" class=md-nav__link >Luminaire Outlier Detection Models: Factoring holidays as exogenous</a> <li class=md-nav__item > <a href="batch_models.html#module-luminaire.model.lad_filtering" class=md-nav__link >Luminaire Outlier Detection Models: Kalman Filter</a> <li class=md-nav__item > <a href=exploration.html  class=md-nav__link >Data Exploration and Profiling</a> <li class=md-nav__item > <a href=optimization.html  class=md-nav__link >Luminaire Configuration Optimization</a> <li class=md-nav__item > <input class="md-toggle md-nav__toggle" data-md-toggle=toc  type=checkbox  id=__toc > <label class="md-nav__link md-nav__link--active" for=__toc > Luminaire Streaming Anomaly Detection Models: Window Density Model </label> <a href="#" class="md-nav__link md-nav__link--active">Luminaire Streaming Anomaly Detection Models: Window Density Model</a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >"Contents"</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#api-reference-streaming--page-root" class=md-nav__link >Luminaire Streaming Anomaly Detection Models: Window Density Model</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#luminaire.model.window_density.WindowDensityHyperParams" class=md-nav__link ><code class="docutils literal notranslate"><span class=pre >WindowDensityHyperParams</span></code></a> <li class=md-nav__item ><a href="#luminaire.model.window_density.WindowDensityModel" class=md-nav__link ><code class="docutils literal notranslate"><span class=pre >WindowDensityModel</span></code></a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#luminaire.model.window_density.WindowDensityModel.score" class=md-nav__link ><code class="docutils literal notranslate"><span class=pre >WindowDensityModel.score()</span></code></a> <li class=md-nav__item ><a href="#luminaire.model.window_density.WindowDensityModel.train" class=md-nav__link ><code class="docutils literal notranslate"><span class=pre >WindowDensityModel.train()</span></code></a> </ul> </nav> </ul> </nav> </ul> </nav> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >"Contents"</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#api-reference-streaming--page-root" class=md-nav__link >Luminaire Streaming Anomaly Detection Models: Window Density Model</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#luminaire.model.window_density.WindowDensityHyperParams" class=md-nav__link ><code class="docutils literal notranslate"><span class=pre >WindowDensityHyperParams</span></code></a> <li class=md-nav__item ><a href="#luminaire.model.window_density.WindowDensityModel" class=md-nav__link ><code class="docutils literal notranslate"><span class=pre >WindowDensityModel</span></code></a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#luminaire.model.window_density.WindowDensityModel.score" class=md-nav__link ><code class="docutils literal notranslate"><span class=pre >WindowDensityModel.score()</span></code></a> <li class=md-nav__item ><a href="#luminaire.model.window_density.WindowDensityModel.train" class=md-nav__link ><code class="docutils literal notranslate"><span class=pre >WindowDensityModel.train()</span></code></a> </ul> </nav> </ul> </nav> </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <section id=module-luminaire.model.window_density > <span id=luminaire-streaming-anomaly-detection-models-window-density-model ></span><h1 id=api-reference-streaming--page-root >Luminaire Streaming Anomaly Detection Models: Window Density Model<a class=headerlink  href="#api-reference-streaming--page-root" title="Link to this heading">¶</a></h1> <dl class="py class"> <dt class="sig sig-object py" id=luminaire.model.window_density.WindowDensityHyperParams > <em class=property ><span class=pre >class</span><span class=w > </span></em><span class="sig-prename descclassname"><span class=pre >luminaire.model.window_density.</span></span><span class="sig-name descname"><span class=pre >WindowDensityHyperParams</span></span><span class=sig-paren >(</span><em class=sig-param ><span class=n ><span class=pre >freq</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >None</span></span></em>, <em class=sig-param ><span class=n ><span class=pre >max_missing_train_prop</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >0.1</span></span></em>, <em class=sig-param ><span class=n ><span class=pre >is_log_transformed</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >False</span></span></em>, <em class=sig-param ><span class=n ><span class=pre >baseline_type</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >'aggregated'</span></span></em>, <em class=sig-param ><span class=n ><span class=pre >detection_method</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >None</span></span></em>, <em class=sig-param ><span class=n ><span class=pre >min_window_length</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >None</span></span></em>, <em class=sig-param ><span class=n ><span class=pre >max_window_length</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >None</span></span></em>, <em class=sig-param ><span class=n ><span class=pre >window_length</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >None</span></span></em>, <em class=sig-param ><span class=n ><span class=pre >detrend_method</span></span><span class=o ><span class=pre >=</span></span><span class=default_value ><span class=pre >'modeling'</span></span></em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/luminaire/model/window_density.html#WindowDensityHyperParams"><span class=viewcode-link ><span class=pre >[source]</span></span></a><a class=headerlink  href="#luminaire.model.window_density.WindowDensityHyperParams" title="Link to this definition">¶</a> <dd><p>Hyperparameter class for Luminaire Window density model.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters<span class=colon >:</span> <dd class=field-odd ><ul class=simple > <li><p><strong>freq</strong> (<em>str</em>) – The frequency of the time-series. Luminaire supports default configuration for ‘S’, T, ‘15T’, ‘H’, ‘D’. Any other frequency type should be specified as ‘custom’ and configuration should be set manually.</p> <li><p><strong>max_missing_train_prop</strong> (<em>float</em>) – Maximum proportion of missing observation allowed in the training data.</p> <li><p><strong>is_log_transformed</strong> (<em>bool</em>) – A flag to specify whether to take a log transform of the input data. If the data contain negatives, is_log_transformed is ignored even though it is set to True.</p> <li><p><strong>baseline_type</strong> (<em>str</em>) – <p>A string flag to specify whether to take set a baseline as the previous sub-window from the training data for scoring or to aggregate the overall window as a baseline. Possible values:</p> <ul> <li><p>”last_window”</p> <li><p>”aggregated”</p> </ul> </p> <li><p><strong>detection_method</strong> (<em>str</em>) – <p>A string that select between two window testing method. Possible values:</p> <ul> <li><p>”kldiv” (KL-divergence). This is recommended to be set for high frequency time series such as ‘S’, ‘T’ etc.</p> <li><p>”sign_test” (Wilcoxon sign rank test). This is recommended to be set for low frequency time series such as ‘H’, ‘D’ etc.</p> </ul> </p> <li><p><strong>min_window_length</strong> (<em>int</em>) – <p>Minimum size of the scoring window / a stable training sub-window length.</p> <div class="admonition note"> <p class=admonition-title >Note</p> <p>This is not the minimum size of the whole training window which is the combination of stable sub-windows.</p> </div> </p> <li><p><strong>max_window_length</strong> (<em>int</em>) – <p>Maximum size of the scoring window / a stable training sub-window length.</p> <div class="admonition note"> <p class=admonition-title >Note</p> <p>This is not the maximum size of the whole training window which is the combination of stable sub-windows.</p> </div> </p> <li><p><strong>window_length</strong> (<em>int</em>) – <p>Size of the scoring window / a stable training sub-window length.</p> <div class="admonition note"> <p class=admonition-title >Note</p> <p>This is not the size of the whole training window which is the combination of stable sub-windows.</p> </div> </p> <li><p><strong>detrend_method</strong> (<em>str</em>) – <p>A string that select between two stationarizing method. Possible values:</p> <ul> <li><p>”ma” (moving average based)</p> <li><p>”diff” (differencing based).</p> </ul> </p> </ul> </dl> </dl> <dl class="py class"> <dt class="sig sig-object py" id=luminaire.model.window_density.WindowDensityModel > <em class=property ><span class=pre >class</span><span class=w > </span></em><span class="sig-prename descclassname"><span class=pre >luminaire.model.window_density.</span></span><span class="sig-name descname"><span class=pre >WindowDensityModel</span></span><span class=sig-paren >(</span><em class=sig-param ><span class=n ><span class=pre >hyper_params</span></span><span class=p ><span class=pre >:</span></span><span class=w > </span><span class=n ><span class=pre >{'freq':</span> <span class=pre >None,</span> <span class=pre >'max_missing_train_prop':</span> <span class=pre >0.1,</span> <span class=pre >'is_log_transformed':</span> <span class=pre >False,</span> <span class=pre >'baseline_type':</span> <span class=pre >'aggregated',</span> <span class=pre >'detection_method':</span> <span class=pre >None,</span> <span class=pre >'min_window_length':</span> <span class=pre >None,</span> <span class=pre >'max_window_length':</span> <span class=pre >None,</span> <span class=pre >'window_length':</span> <span class=pre >None,</span> <span class=pre >'detrend_method':</span> <span class=pre >'modeling'}</span></span></em>, <em class=sig-param ><span class=o ><span class=pre >**</span></span><span class=n ><span class=pre >kwargs</span></span></em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/luminaire/model/window_density.html#WindowDensityModel"><span class=viewcode-link ><span class=pre >[source]</span></span></a><a class=headerlink  href="#luminaire.model.window_density.WindowDensityModel" title="Link to this definition">¶</a> <dd><p>This model detects anomalous windows using KL divergence (for high frequency data) and Wilcoxon sign rank test (for low frequency data). This default monitoring frequency is set to pandas time frequency type ‘T’.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters<span class=colon >:</span> <dd class=field-odd ><p><strong>hyper_params</strong> (<em>dict</em>) – Hyper parameters for Luminaire window density model. See <a class="reference internal" href="#luminaire.model.window_density.WindowDensityHyperParams" title=luminaire.model.window_density.WindowDensityHyperParams ><code class="xref py py-class docutils literal notranslate"><span class=pre >luminaire.model.window_density.WindowDensityHyperParams</span></code></a> for detailed information.</p> <dt class=field-even >Returns<span class=colon >:</span> <dd class=field-even ><p>Anomaly probability for the execution window and other related model outputs</p> <dt class=field-odd >Return type<span class=colon >:</span> <dd class=field-odd ><p>list[dict]</p> </dl> <dl class="py method"> <dt class="sig sig-object py" id=luminaire.model.window_density.WindowDensityModel.score > <span class="sig-name descname"><span class=pre >score</span></span><span class=sig-paren >(</span><em class=sig-param ><span class=n ><span class=pre >data</span></span></em>, <em class=sig-param ><span class=o ><span class=pre >**</span></span><span class=n ><span class=pre >kwargs</span></span></em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/luminaire/model/window_density.html#WindowDensityModel.score"><span class=viewcode-link ><span class=pre >[source]</span></span></a><a class=headerlink  href="#luminaire.model.window_density.WindowDensityModel.score" title="Link to this definition">¶</a> <dd><p>Function scores input series for anomalies</p> <dl class="field-list simple"> <dt class=field-odd >Parameters<span class=colon >:</span> <dd class=field-odd ><p><strong>data</strong> (<em>pandas.DataFrame</em>) – Input time series to score</p> <dt class=field-even >Returns<span class=colon >:</span> <dd class=field-even ><p>Output dictionary with scoring summary.</p> <dt class=field-odd >Return type<span class=colon >:</span> <dd class=field-odd ><p>dict</p> </dl> <div class="doctest highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=n >data</span>
<span class=go >                        raw interpolated</span>
<span class=go >index</span>
<span class=go >2018-10-11 00:00:00  204800       204800</span>
<span class=go >2018-10-11 01:00:00  222218       222218</span>
<span class=go >2018-10-11 02:00:00  218903       218903</span>
<span class=go >2018-10-11 03:00:00  190639       190639</span>
<span class=go >2018-10-11 04:00:00  148214       148214</span>
<span class=go >2018-10-11 05:00:00  106358       106358</span>
<span class=go >2018-10-11 06:00:00   70081        70081</span>
<span class=go >2018-10-11 07:00:00   47748        47748</span>
<span class=go >2018-10-11 08:00:00   36837        36837</span>
<span class=go >2018-10-11 09:00:00   33023        33023</span>
<span class=go >2018-10-11 10:00:00   44432        44432</span>
<span class=go >2018-10-11 11:00:00   72773        72773</span>
<span class=go >2018-10-11 12:00:00  115180       115180</span>
<span class=go >2018-10-11 13:00:00  157568       157568</span>
<span class=go >2018-10-11 14:00:00  180174       180174</span>
<span class=go >2018-10-11 15:00:00  190048       190048</span>
<span class=go >2018-10-11 16:00:00  188391       188391</span>
<span class=go >2018-10-11 17:00:00  189233       189233</span>
<span class=go >2018-10-11 18:00:00  191703       191703</span>
<span class=go >2018-10-11 19:00:00  189848       189848</span>
<span class=go >2018-10-11 20:00:00  192685       192685</span>
<span class=go >2018-10-11 21:00:00  196743       196743</span>
<span class=go >2018-10-11 22:00:00  193016       193016</span>
<span class=go >2018-10-11 23:00:00  196441       196441</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >model</span>
<span class=go >&lt;luminaire.model.window_density.WindowDensityModel object at 0x7fcaab72fdd8&gt;</span>
</pre></div> </div> <div class="doctest highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=n >model</span><span class=o >.</span><span class=n >score</span><span class=p >(</span><span class=n >data</span><span class=p >)</span>
<span class=go >{'Success': True, 'ConfLevel': 99.9, 'IsAnomaly': False, 'AnomalyProbability': 0.6963188902776808}</span>
</pre></div> </div> </dl> <dl class="py method"> <dt class="sig sig-object py" id=luminaire.model.window_density.WindowDensityModel.train > <span class="sig-name descname"><span class=pre >train</span></span><span class=sig-paren >(</span><em class=sig-param ><span class=n ><span class=pre >data</span></span></em>, <em class=sig-param ><span class=o ><span class=pre >**</span></span><span class=n ><span class=pre >kwargs</span></span></em><span class=sig-paren >)</span><a class="reference internal" href="../_modules/luminaire/model/window_density.html#WindowDensityModel.train"><span class=viewcode-link ><span class=pre >[source]</span></span></a><a class=headerlink  href="#luminaire.model.window_density.WindowDensityModel.train" title="Link to this definition">¶</a> <dd><p>Input time series for training.</p> <dl class="field-list simple"> <dt class=field-odd >Parameters<span class=colon >:</span> <dd class=field-odd ><p><strong>data</strong> (<em>pandas.DataFrame</em>) – Input time series.</p> <dt class=field-even >Returns<span class=colon >:</span> <dd class=field-even ><p>Trained model with the training timestamp and a success flag</p> <dt class=field-odd >Return type<span class=colon >:</span> <dd class=field-odd ><p>tuple(bool, str, python model object)</p> </dl> <div class="doctest highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=n >data</span>
<span class=go >                        raw interpolated</span>
<span class=go >index</span>
<span class=go >2017-10-02 00:00:00  118870       118870</span>
<span class=go >2017-10-02 01:00:00  121914       121914</span>
<span class=go >2017-10-02 02:00:00  116097       116097</span>
<span class=go >2017-10-02 03:00:00   94511        94511</span>
<span class=go >2017-10-02 04:00:00   68330        68330</span>
<span class=go >...                     ...          ...</span>
<span class=go >2018-10-10 19:00:00  219908       219908</span>
<span class=go >2018-10-10 20:00:00  219149       219149</span>
<span class=go >2018-10-10 21:00:00  207232       207232</span>
<span class=go >2018-10-10 22:00:00  198741       198741</span>
<span class=go >2018-10-10 23:00:00  213751       213751</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >hyper_params</span> <span class=o >=</span> <span class=n >WindowDensityHyperParams</span><span class=p >(</span><span class=n >freq</span><span class=o >=</span><span class=s1 >'H'</span><span class=p >)</span><span class=o >.</span><span class=n >params</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >wdm_obj</span> <span class=o >=</span> <span class=n >WindowDensityModel</span><span class=p >(</span><span class=n >hyper_params</span><span class=o >=</span><span class=n >hyper_params</span><span class=p >)</span>
<span class=gp >&gt;&gt;&gt; </span><span class=n >success</span><span class=p >,</span> <span class=n >model</span> <span class=o >=</span> <span class=n >wdm_obj</span><span class=o >.</span><span class=n >train</span><span class=p >(</span><span class=n >data</span><span class=p >)</span>
</pre></div> </div> <div class="doctest highlight-default notranslate"><div class=highlight ><pre><span></span><span class=gp >&gt;&gt;&gt; </span><span class=n >success</span><span class=p >,</span> <span class=n >model</span>
<span class=go >(True, "2018-10-10 23:00:00", &lt;luminaire.model.window_density.WindowDensityModel object at 0x7fd7c5a34e80&gt;)</span>
</pre></div> </div> </dl> </dl> </section> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> <a href=optimization.html  title="Luminaire Configuration Optimization" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev > <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis > <span class=md-footer-nav__direction > "Previous" </span> Luminaire Configuration Optimization </span> </div> </a> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > <div class=md-footer-copyright__highlight > &#169; Copyright 2020 Zillow, Inc.. </div> Created using <a href="http://www.sphinx-doc.org/">Sphinx</a> 7.2.6. and <a href="https://github.com/bashtage/sphinx-material/">Material for Sphinx</a> </div> </div> </div> </footer> <script src="../_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>